(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-52580c12"],{1173:function(t,e){t.exports=function(t,e,r,a){if(!(t instanceof e)||void 0!==a&&a in t)throw TypeError(r+": incorrect invocation!");return t}},"1af6":function(t,e,r){var a=r("63b6");a(a.S,"Array",{isArray:r("9003")})},"20fd":function(t,e,r){"use strict";var a=r("d9f6"),n=r("aebd");t.exports=function(t,e,r){e in t?a.f(t,e,n(0,r)):t[e]=r}},"24c5":function(t,e,r){"use strict";var a,n,i,s,o=r("b8e3"),c=r("e53d"),l=r("d864"),u=r("40c3"),p=r("63b6"),f=r("f772"),h=r("79aa"),d=r("1173"),m=r("a22a"),v=r("f201"),b=r("4178").set,g=r("aba2")(),y=r("656e"),x=r("4439"),w=r("bc13"),_=r("cd78"),k="Promise",P=c.TypeError,S=c.process,T=S&&S.versions,C=T&&T.v8||"",D=c[k],$="process"==u(S),I=function(){},j=n=y.f,A=!!function(){try{var t=D.resolve(1),e=(t.constructor={})[r("5168")("species")]=function(t){t(I,I)};return($||"function"==typeof PromiseRejectionEvent)&&t.then(I)instanceof e&&0!==C.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(a){}}(),O=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},R=function(t,e){if(!t._n){t._n=!0;var r=t._c;g(function(){var a=t._v,n=1==t._s,i=0,s=function(e){var r,i,s,o=n?e.ok:e.fail,c=e.resolve,l=e.reject,u=e.domain;try{o?(n||(2==t._h&&V(t),t._h=1),!0===o?r=a:(u&&u.enter(),r=o(a),u&&(u.exit(),s=!0)),r===e.promise?l(P("Promise-chain cycle")):(i=O(r))?i.call(r,c,l):c(r)):l(a)}catch(p){u&&!s&&u.exit(),l(p)}};while(r.length>i)s(r[i++]);t._c=[],t._n=!1,e&&!t._h&&L(t)})}},L=function(t){b.call(c,function(){var e,r,a,n=t._v,i=E(t);if(i&&(e=x(function(){$?S.emit("unhandledRejection",n,t):(r=c.onunhandledrejection)?r({promise:t,reason:n}):(a=c.console)&&a.error&&a.error("Unhandled promise rejection",n)}),t._h=$||E(t)?2:1),t._a=void 0,i&&e.e)throw e.v})},E=function(t){return 1!==t._h&&0===(t._a||t._c).length},V=function(t){b.call(c,function(){var e;$?S.emit("rejectionHandled",t):(e=c.onrejectionhandled)&&e({promise:t,reason:t._v})})},q=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),R(e,!0))},U=function(t){var e,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw P("Promise can't be resolved itself");(e=O(t))?g(function(){var a={_w:r,_d:!1};try{e.call(t,l(U,a,1),l(q,a,1))}catch(n){q.call(a,n)}}):(r._v=t,r._s=1,R(r,!1))}catch(a){q.call({_w:r,_d:!1},a)}}};A||(D=function(t){d(this,D,k,"_h"),h(t),a.call(this);try{t(l(U,this,1),l(q,this,1))}catch(e){q.call(this,e)}},a=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},a.prototype=r("5c95")(D.prototype,{then:function(t,e){var r=j(v(this,D));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=$?S.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&R(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new a;this.promise=t,this.resolve=l(U,t,1),this.reject=l(q,t,1)},y.f=j=function(t){return t===D||t===s?new i(t):n(t)}),p(p.G+p.W+p.F*!A,{Promise:D}),r("45f2")(D,k),r("4c95")(k),s=r("584a")[k],p(p.S+p.F*!A,k,{reject:function(t){var e=j(this),r=e.reject;return r(t),e.promise}}),p(p.S+p.F*(o||!A),k,{resolve:function(t){return _(o&&this===s?D:this,t)}}),p(p.S+p.F*!(A&&r("4ee1")(function(t){D.all(t)["catch"](I)})),k,{all:function(t){var e=this,r=j(e),a=r.resolve,n=r.reject,i=x(function(){var r=[],i=0,s=1;m(t,!1,function(t){var o=i++,c=!1;r.push(void 0),s++,e.resolve(t).then(function(t){c||(c=!0,r[o]=t,--s||a(r))},n)}),--s||a(r)});return i.e&&n(i.v),r.promise},race:function(t){var e=this,r=j(e),a=r.reject,n=x(function(){m(t,!1,function(t){e.resolve(t).then(r.resolve,a)})});return n.e&&a(n.v),r.promise}})},"25bf":function(t,e,r){"use strict";var a=r("480b"),n=r.n(a);n.a},3024:function(t,e){t.exports=function(t,e,r){var a=void 0===r;switch(e.length){case 0:return a?t():t.call(r);case 1:return a?t(e[0]):t.call(r,e[0]);case 2:return a?t(e[0],e[1]):t.call(r,e[0],e[1]);case 3:return a?t(e[0],e[1],e[2]):t.call(r,e[0],e[1],e[2]);case 4:return a?t(e[0],e[1],e[2],e[3]):t.call(r,e[0],e[1],e[2],e[3])}return t.apply(r,e)}},3702:function(t,e,r){var a=r("481b"),n=r("5168")("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(a.Array===t||i[n]===t)}},"3b8d":function(t,e,r){"use strict";r.d(e,"a",function(){return s});var a=r("795b"),n=r.n(a);function i(t,e,r,a,i,s,o){try{var c=t[s](o),l=c.value}catch(u){return void r(u)}c.done?e(l):n.a.resolve(l).then(a,i)}function s(t){return function(){var e=this,r=arguments;return new n.a(function(a,n){var s=t.apply(e,r);function o(t){i(s,a,n,o,c,"next",t)}function c(t){i(s,a,n,o,c,"throw",t)}o(void 0)})}}},"3c11":function(t,e,r){"use strict";var a=r("63b6"),n=r("584a"),i=r("e53d"),s=r("f201"),o=r("cd78");a(a.P+a.R,"Promise",{finally:function(t){var e=s(this,n.Promise||i.Promise),r="function"==typeof t;return this.then(r?function(r){return o(e,t()).then(function(){return r})}:t,r?function(r){return o(e,t()).then(function(){throw r})}:t)}})},"40c3":function(t,e,r){var a=r("6b4c"),n=r("5168")("toStringTag"),i="Arguments"==a(function(){return arguments}()),s=function(t,e){try{return t[e]}catch(r){}};t.exports=function(t){var e,r,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=s(e=Object(t),n))?r:i?a(e):"Object"==(o=a(e))&&"function"==typeof e.callee?"Arguments":o}},4178:function(t,e,r){var a,n,i,s=r("d864"),o=r("3024"),c=r("32fc"),l=r("1ec9"),u=r("e53d"),p=u.process,f=u.setImmediate,h=u.clearImmediate,d=u.MessageChannel,m=u.Dispatch,v=0,b={},g="onreadystatechange",y=function(){var t=+this;if(b.hasOwnProperty(t)){var e=b[t];delete b[t],e()}},x=function(t){y.call(t.data)};f&&h||(f=function(t){var e=[],r=1;while(arguments.length>r)e.push(arguments[r++]);return b[++v]=function(){o("function"==typeof t?t:Function(t),e)},a(v),v},h=function(t){delete b[t]},"process"==r("6b4c")(p)?a=function(t){p.nextTick(s(y,t,1))}:m&&m.now?a=function(t){m.now(s(y,t,1))}:d?(n=new d,i=n.port2,n.port1.onmessage=x,a=s(i.postMessage,i,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(a=function(t){u.postMessage(t+"","*")},u.addEventListener("message",x,!1)):a=g in l("script")?function(t){c.appendChild(l("script"))[g]=function(){c.removeChild(this),y.call(t)}}:function(t){setTimeout(s(y,t,1),0)}),t.exports={set:f,clear:h}},"43fc":function(t,e,r){"use strict";var a=r("63b6"),n=r("656e"),i=r("4439");a(a.S,"Promise",{try:function(t){var e=n.f(this),r=i(t);return(r.e?e.reject:e.resolve)(r.v),e.promise}})},4439:function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(e){return{e:!0,v:e}}}},"480b":function(t,e,r){},"4c95":function(t,e,r){"use strict";var a=r("e53d"),n=r("584a"),i=r("d9f6"),s=r("8e60"),o=r("5168")("species");t.exports=function(t){var e="function"==typeof n[t]?n[t]:a[t];s&&e&&!e[o]&&i.f(e,o,{configurable:!0,get:function(){return this}})}},"4ee1":function(t,e,r){var a=r("5168")("iterator"),n=!1;try{var i=[7][a]();i["return"]=function(){n=!0},Array.from(i,function(){throw 2})}catch(s){}t.exports=function(t,e){if(!e&&!n)return!1;var r=!1;try{var i=[7],o=i[a]();o.next=function(){return{done:r=!0}},i[a]=function(){return o},t(i)}catch(s){}return r}},"549b":function(t,e,r){"use strict";var a=r("d864"),n=r("63b6"),i=r("241e"),s=r("b0dc"),o=r("3702"),c=r("b447"),l=r("20fd"),u=r("7cd6");n(n.S+n.F*!r("4ee1")(function(t){Array.from(t)}),"Array",{from:function(t){var e,r,n,p,f=i(t),h="function"==typeof this?this:Array,d=arguments.length,m=d>1?arguments[1]:void 0,v=void 0!==m,b=0,g=u(f);if(v&&(m=a(m,d>2?arguments[2]:void 0,2)),void 0==g||h==Array&&o(g))for(e=c(f.length),r=new h(e);e>b;b++)l(r,b,v?m(f[b],b):f[b]);else for(p=g.call(f),r=new h;!(n=p.next()).done;b++)l(r,b,v?s(p,m,[n.value,b],!0):n.value);return r.length=b,r}})},"54a1":function(t,e,r){r("6c1c"),r("1654"),t.exports=r("95d5")},"5c95":function(t,e,r){var a=r("35e8");t.exports=function(t,e,r){for(var n in e)r&&t[n]?t[n]=e[n]:a(t,n,e[n]);return t}},"656e":function(t,e,r){"use strict";var a=r("79aa");function n(t){var e,r;this.promise=new t(function(t,a){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=a}),this.resolve=a(e),this.reject=a(r)}t.exports.f=function(t){return new n(t)}},6649:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"crumbs"},[r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",[t._v("商品编辑")])],1)],1),r("div",{staticClass:"container"},[r("div",{staticClass:"form-box"},[r("el-form",{ref:"form",attrs:{model:t.parames,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"商品标题"}},[r("el-input",{attrs:{placeholder:"请入商品标题",clearable:""},model:{value:t.parames.title,callback:function(e){t.$set(t.parames,"title",e)},expression:"parames.title"}})],1),r("el-form-item",{attrs:{label:"作者"}},[r("el-input",{attrs:{placeholder:"请输入作者名",clearable:""},model:{value:t.parames.author,callback:function(e){t.$set(t.parames,"author",e)},expression:"parames.author"}})],1),r("el-form-item",{attrs:{label:"出版社"}},[r("el-input",{attrs:{placeholder:"请输入出版社",clearable:""},model:{value:t.parames.publisher,callback:function(e){t.$set(t.parames,"publisher",e)},expression:"parames.publisher"}})],1),r("el-form-item",{attrs:{label:"商品分类"}},[r("el-select",{staticStyle:{width:"220px"},attrs:{multiple:"",placeholder:"请选择"},model:{value:t.parames.categoryIds,callback:function(e){t.$set(t.parames,"categoryIds",e)},expression:"parames.categoryIds"}},t._l(t.categoryOptions,function(t){return r("el-option",{key:t.categoryId,attrs:{label:t.categoryName,value:t.categoryId}})}),1),r("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:t.showCategoryBox}},[t._v("+ 添加分类")])],1),r("el-form-item",{attrs:{label:"商品标签"}},[t._l(t.parames.tags,function(e){return r("el-tag",{key:e,attrs:{closable:"","disable-transitions":!1},on:{close:function(r){return t.handleClose(e)}}},[t._v(t._s(e))])}),t.inputVisible?r("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",on:{blur:t.handleInputConfirm},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleInputConfirm(e)}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}):r("el-button",{staticClass:"button-new-tag",on:{click:t.showInput}},[t._v("+ 增加")])],2),r("el-form-item",{attrs:{label:"主图"}},[r("images-upload",{attrs:{defaultImage:t.parames.pictUrl,index:1,moreUpload:!1,onSuccess:t.uploadSuccess}})],1),r("el-form-item",{attrs:{label:"轮播图"}},[r("images-upload",{attrs:{onSuccess:t.uploadSuccess,index:2,onRemove:t.removeRemove,memory:1,fileList:t.carousel}})],1),r("el-form-item",{attrs:{label:"图文详情"}},[r("images-upload",{attrs:{onSuccess:t.uploadSuccess,fileList:t.imageText,index:3,onRemove:t.removeRemove,memory:2}})],1),r("el-form-item",{attrs:{label:"币种"}},[r("el-select",{staticStyle:{width:"220px"},attrs:{placeholder:"请选择"},model:{value:t.parames.currencyType,callback:function(e){t.$set(t.parames,"currencyType",e)},expression:"parames.currencyType"}},t._l(t.moneyOptions,function(t){return r("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),r("el-form-item",{attrs:{label:"原价"}},[r("el-input",{attrs:{placeholder:"请输入原价（单位分）",clearable:""},model:{value:t.parames.reservePrice,callback:function(e){t.$set(t.parames,"reservePrice",e)},expression:"parames.reservePrice"}})],1),r("el-form-item",{attrs:{label:"优惠价"}},[r("el-input",{attrs:{placeholder:"请指定一个优惠价（单位分）",clearable:""},model:{value:t.parames.finalPrice,callback:function(e){t.$set(t.parames,"finalPrice",e)},expression:"parames.finalPrice"}})],1),r("el-form-item",{attrs:{label:"积分"}},[r("el-input",{attrs:{placeholder:"默认按系统分配",clearable:""},model:{value:t.parames.balance,callback:function(e){t.$set(t.parames,"balance",e)},expression:"parames.balance"}})],1),r("el-form-item",{attrs:{label:"库存"}},[r("el-input",{attrs:{placeholder:"请输入库存量",clearable:""},model:{value:t.parames.quantity,callback:function(e){t.$set(t.parames,"quantity",e)},expression:"parames.quantity"}})],1),r("el-form-item",{attrs:{label:"预约时间"}},[r("el-date-picker",{attrs:{"value-format":"timestamp",type:"datetime",placeholder:"选填",align:"right"},model:{value:t.parames.onSaleTime,callback:function(e){t.$set(t.parames,"onSaleTime",e)},expression:"parames.onSaleTime"}})],1),r("el-form-item",{attrs:{label:"包邮"}},[r("el-switch",{model:{value:t.noPostage,callback:function(e){t.noPostage=e},expression:"noPostage"}})],1),t.noPostage?t._e():r("el-form-item",{attrs:{label:"邮费"}},[r("el-input",{attrs:{placeholder:"请输入邮费（单位分）",clearable:""},model:{value:t.parames.freightPrice,callback:function(e){t.$set(t.parames,"freightPrice",e)},expression:"parames.freightPrice"}})],1),t.noPostage?t._e():r("el-form-item",{attrs:{label:"满包邮"}},[r("el-input",{attrs:{placeholder:"满多少金额免邮费（单位分）",clearable:""},model:{value:t.parames.freePrice,callback:function(e){t.$set(t.parames,"freePrice",e)},expression:"parames.freePrice"}})],1),r("el-form-item",{attrs:{label:"商品sku"}},[r("div",[r("div",{staticClass:"stand"},[r("ul",t._l(t.standData,function(e,a){return r("li",{key:a,staticClass:"attr"},[r("el-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"danger",icon:"el-icon-delete"},on:{click:function(e){return t.remove(a)}}},[t._v("删除")]),r("el-input",{staticClass:"title",staticStyle:{width:"100px"},attrs:{placeholder:"请输入属性",clearable:""},model:{value:e.title,callback:function(r){t.$set(e,"title",r)},expression:"item.title"}}),e.attrs.length?r("div",t._l(e.attrs,function(e,n){return r("div",{key:n,staticClass:"putt"},[r("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"请输入值",clearable:""},model:{value:e.attr,callback:function(r){t.$set(e,"attr",r)},expression:"subitem.attr"}}),r("div",{staticClass:"close",on:{click:function(e){return t.closeAtrr(a,n)}}},[t._v("×")])],1)}),0):t._e(),r("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:function(e){return t.addAtrr(a)}}},[t._v("添加属性值")])],1)}),0),r("div",{staticClass:"add"},[r("el-button",{attrs:{type:"primary"},on:{click:t.addStand}},[t._v("添加属性")]),r("el-button",{attrs:{type:"primary"},on:{click:t.getTable}},[t._v("生成sku列表")]),r("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.read(!1)}}},[t._v("使用默认sku属性")])],1)]),r("div",{staticClass:"table"},[t.isTable?r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[r("el-table-column",{attrs:{prop:"skuValue",label:"sku信息","min-width":"100"}}),r("el-table-column",{attrs:{label:"原价（单位分）","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[r("el-input",{attrs:{placeholder:"请输入该sku原价",clearable:""},model:{value:a.price,callback:function(e){t.$set(a,"price",e)},expression:"row.price"}})]}}],null,!1,1144335435)}),r("el-table-column",{attrs:{label:"优惠价（单位分）","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[r("el-input",{attrs:{placeholder:"请输入该sku优惠价",clearable:""},model:{value:a.promotionPrice,callback:function(e){t.$set(a,"promotionPrice",e)},expression:"row.promotionPrice"}})]}}],null,!1,1813674463)}),r("el-table-column",{attrs:{label:"积分","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[r("el-input",{attrs:{placeholder:"为空按系统分配",clearable:""},model:{value:a.balance,callback:function(e){t.$set(a,"balance",e)},expression:"row.balance"}})]}}],null,!1,1559395783)}),r("el-table-column",{attrs:{label:"库存","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[r("el-input",{attrs:{placeholder:"请输入该sku库存量",clearable:""},model:{value:a.quantity,callback:function(e){t.$set(a,"quantity",e)},expression:"row.quantity"}})]}}],null,!1,3416360337)})],1):t._e()],1)])]),r("el-form-item",[r("el-button",{on:{click:function(e){return t.onSubmit(!1)}}},[t._v("返回")]),r("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.onSubmit(!0,1)}}},[t._v("保存并上架")]),r("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.onSubmit(!0,0)}}},[t._v("保存为预约")])],1)],1)],1)])])},n=[],i=(r("4f7f"),r("5df3"),r("1c4c"),r("75fc")),s=(r("ac6a"),r("20d6"),r("28a5"),r("96cf"),r("3b8d")),o={name:"goodsEdit",data:function(){return{carousel:[],imageText:[],inputVisible:!1,inputValue:"",parames:{title:"",goodsId:"",pictUrl:"",picCharts:[],picDetails:[],reservePrice:"",finalPrice:"",tags:[],categoryIds:[1],currencyType:"1",status:1,onSaleTime:"",quantity:"",goodsPropertyRefList:[],goodsSkuList:[],publisher:"",author:"",freightPrice:"",freePrice:"",balance:""},noPostage:!0,categoryOptions:[],moneyOptions:[{value:0,label:"人民币"},{value:1,label:"港币"}],tableData:[],input:"",isTable:!1,standData:[],list:[],group:[]}},created:function(){this.getCategoryList(),this.getGoodsDetail()},methods:{getGoodsDetail:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,r,a,n,i,s,o,c,l,u,p;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$api.GoodsDetail({goodsId:this.$route.query.goodsId},this.$route.query.goodsId);case 2:if(e=t.sent,this.parames.title=e.goodsTitle,this.parames.goodsId=e.goodsId,this.parames.pictUrl=e.goodsImg,this.parames.picCharts=e.picCharts,e.picCharts.length>0)for(a in r=e.picCharts,r)n={url:r[a]},this.carousel.push(n);if(e.picDetails.length>0)for(s in i=e.picDetails,i)o={url:i[s]},this.imageText.push(o);if(this.parames.picDetails=e.picDetails,this.parames.reservePrice=e.reservePrice,this.parames.finalPrice=e.finalPrice,this.parames.categoryIds=e.categoryIds,this.parames.currencyType=e.currencyType,this.parames.status=e.goodsStatus,(new Date).getTime()>new Date(e.onSaleTime).getTime()?this.parames.onSaleTime="":this.parames.onSaleTime=new Date(e.onSaleTime).getTime(),e.tags&&(this.parames.tags=e.tags.split(",")),this.parames.quantity=e.quantity,this.parames.balance=e.balance,this.parames.publisher=e.publisher,this.parames.author=e.author,null!=e.goodsPropertyRefList&&e.goodsSkuList.length>0){for(p in c=e.goodsSkuList,l=[],u=[],c)l.push("".concat(c[p].skuValueInfo,";")),u.push({skuValue:"".concat(c[p].skuValueInfo,";"),price:c[p].price,quantity:c[p].quantity,promotionPrice:c[p].promotionPrice,balance:c[p].balance});this.read(!0,l),this.tableData=u,this.isTable=!0}case 22:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getCategoryList:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$api.CategoryList({pageNo:1,pageSize:100});case 2:e=t.sent,this.categoryOptions=e;case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),addCategory:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$api.AddCategory({categoryName:e,sortOrder:1});case 2:t.sent,this.getCategoryList();case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),editGoods:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$api.GoodsEdit(this.parames);case 2:t.sent,this.$router.push({name:"goodsList",params:{onload:!0}});case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),showCategoryBox:function(){var t=this;this.$prompt("请输入分类名","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(e){var r=e.value;""===r?t.$message({message:"分类名不能为空",type:"warning"}):t.addCategory(r)}).catch(function(){t.$message({type:"info",message:"取消输入"})})},handleClose:function(t){this.parames.tags.splice(this.parames.tags.indexOf(t),1)},showInput:function(){var t=this;this.inputVisible=!0,this.$nextTick(function(e){t.$refs.saveTagInput.$refs.input.focus()})},handleInputConfirm:function(){var t=this.inputValue;t&&this.parames.tags.push(t),this.inputVisible=!1,this.inputValue=""},uploadSuccess:function(t,e){1==e?this.parames.pictUrl=t:2==e?this.parames.picCharts.push(t):3==e&&this.parames.picDetails.push(t)},removeRemove:function(t,e){2==e?this.parames.picCharts.splice(this.parames.picCharts.findIndex(function(e){return e===t}),1):3==e&&this.parames.picDetails.splice(this.parames.picDetails.findIndex(function(e){return e===t}),1)},addStand:function(t){this.standData.length>3?this.$message("不能超过四行"):this.standData.push({title:"",attrs:[]})},getTable:function(){var t=this;this.isTable=!0,this.tableData=[],this.group=[],this.list=[];var e=this.standData.length;this.standData.forEach(function(e){t.list.push(e.attrs)});var r=[],a=this;function n(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,s=0;s<a.list[e].length;s++)e<a.list.length-1?(t[e]=a.list[e][s].attr,n(t,e+1)):r.push([].concat(Object(i["a"])(t),[a.list[e][s].attr]));return r}var s,o=n([],0);o.forEach(function(r){s="";for(var a=0;a<e;a++){var n=t.standData[a].title;n=n+":"+r[a],s=s+n+";"}s=s.substring(0,s.length-1),t.group.push(s)});for(var c=[],l=0;l<this.group.length;l++)c.push({skuValue:this.group[l],price:"",quantity:"",promotionPrice:"",balance:""});this.tableData=c},remove:function(t){this.standData.splice(t,1)},addAtrr:function(t){this.standData[t].attrs.length>4?this.$message("不能超过5个"):this.standData[t].attrs.push({attr:""})},closeAtrr:function(t,e){this.standData[t].attrs.splice(e,1)},read:function(t,e){var r=[];r=t?e:["单位:本;","单位:套;"];for(var a=r[0].split(";"),n=a.length-1,i=[],s=0;s<n;s++)i.push([]);r.forEach(function(t){for(var e=0;e<n;e++)i[e].push(t.split(";")[e].split(":")[1])}),i=i.map(function(t){return Array.from(new Set(t))});for(var o=0;o<i.length;o++)for(var c=0;c<i[o].length;c++)i[o][c]={attr:i[o][c]};for(var l=0;l<n;l++)this.standData.push({title:a[l].split(":")[0],attrs:i[l]})},onSubmit:function(t,e){if(t)if(this.parames.status=e,0!=e||""!=this.parames.onSaleTime){if(this.tableData.length>0)for(var r in this.parames.goodsSkuList=this.tableData,this.standData){var a={propertyName:this.standData[r].title,valueAliasList:[]};for(var n in this.standData[r].attrs)a.valueAliasList.push(this.standData[r].attrs[n].attr);this.parames.goodsPropertyRefList.push(a)}this.editGoods()}else this.$message.error("请添加预售时间");else this.$router.go(-1)}},watch:{noPostage:function(t){t&&(this.parames.freightPrice="",this.parames.freePrice="")}}},c=o,l=(r("25bf"),r("2877")),u=Object(l["a"])(c,a,n,!1,null,"499956f0",null);e["default"]=u.exports},"696e":function(t,e,r){r("c207"),r("1654"),r("6c1c"),r("24c5"),r("3c11"),r("43fc"),t.exports=r("584a").Promise},"75fc":function(t,e,r){"use strict";var a=r("a745"),n=r.n(a);function i(t){if(n()(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}var s=r("774e"),o=r.n(s),c=r("c8bb"),l=r.n(c);function u(t){if(l()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return o()(t)}function p(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function f(t){return i(t)||u(t)||p()}r.d(e,"a",function(){return f})},"774e":function(t,e,r){t.exports=r("d2d5")},"795b":function(t,e,r){t.exports=r("696e")},"7cd6":function(t,e,r){var a=r("40c3"),n=r("5168")("iterator"),i=r("481b");t.exports=r("584a").getIteratorMethod=function(t){if(void 0!=t)return t[n]||t["@@iterator"]||i[a(t)]}},"95d5":function(t,e,r){var a=r("40c3"),n=r("5168")("iterator"),i=r("481b");t.exports=r("584a").isIterable=function(t){var e=Object(t);return void 0!==e[n]||"@@iterator"in e||i.hasOwnProperty(a(e))}},a22a:function(t,e,r){var a=r("d864"),n=r("b0dc"),i=r("3702"),s=r("e4ae"),o=r("b447"),c=r("7cd6"),l={},u={};e=t.exports=function(t,e,r,p,f){var h,d,m,v,b=f?function(){return t}:c(t),g=a(r,p,e?2:1),y=0;if("function"!=typeof b)throw TypeError(t+" is not iterable!");if(i(b)){for(h=o(t.length);h>y;y++)if(v=e?g(s(d=t[y])[0],d[1]):g(t[y]),v===l||v===u)return v}else for(m=b.call(t);!(d=m.next()).done;)if(v=n(m,g,d.value,e),v===l||v===u)return v};e.BREAK=l,e.RETURN=u},a745:function(t,e,r){t.exports=r("f410")},aba2:function(t,e,r){var a=r("e53d"),n=r("4178").set,i=a.MutationObserver||a.WebKitMutationObserver,s=a.process,o=a.Promise,c="process"==r("6b4c")(s);t.exports=function(){var t,e,r,l=function(){var a,n;c&&(a=s.domain)&&a.exit();while(t){n=t.fn,t=t.next;try{n()}catch(i){throw t?r():e=void 0,i}}e=void 0,a&&a.enter()};if(c)r=function(){s.nextTick(l)};else if(!i||a.navigator&&a.navigator.standalone)if(o&&o.resolve){var u=o.resolve(void 0);r=function(){u.then(l)}}else r=function(){n.call(a,l)};else{var p=!0,f=document.createTextNode("");new i(l).observe(f,{characterData:!0}),r=function(){f.data=p=!p}}return function(a){var n={fn:a,next:void 0};e&&(e.next=n),t||(t=n,r()),e=n}}},b0dc:function(t,e,r){var a=r("e4ae");t.exports=function(t,e,r,n){try{return n?e(a(r)[0],r[1]):e(r)}catch(s){var i=t["return"];throw void 0!==i&&a(i.call(t)),s}}},bc13:function(t,e,r){var a=r("e53d"),n=a.navigator;t.exports=n&&n.userAgent||""},c8bb:function(t,e,r){t.exports=r("54a1")},cd78:function(t,e,r){var a=r("e4ae"),n=r("f772"),i=r("656e");t.exports=function(t,e){if(a(t),n(e)&&e.constructor===t)return e;var r=i.f(t),s=r.resolve;return s(e),r.promise}},d2d5:function(t,e,r){r("1654"),r("549b"),t.exports=r("584a").Array.from},f201:function(t,e,r){var a=r("e4ae"),n=r("79aa"),i=r("5168")("species");t.exports=function(t,e){var r,s=a(t).constructor;return void 0===s||void 0==(r=a(s)[i])?e:n(r)}},f410:function(t,e,r){r("1af6"),t.exports=r("584a").Array.isArray}}]);
//# sourceMappingURL=chunk-52580c12.48fda5c6.js.map